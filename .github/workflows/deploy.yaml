on: 
  - pull_request
name: Deploy to dev env

jobs:
  code-quality-check:
    name: Check code quality
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v2
      - name: Install
        run: pnpm install
      - name: Check code quality
        run: npm run code-quality:check
  build:
    name: Build source
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v2
      - name: Install
        run: pnpm install
      - name: Build
        run: npm run build
  test:
    name: Running unit test
    runs-on: ubuntu-latest
    needs: build
    steps:
      - name: Checkout
        uses: actions/checkout@v2
      - name: Install
        run: pnpm install
      - name: Build
        run: npm run test:unit

